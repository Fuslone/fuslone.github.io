# 实现搜索结果相关性排序

## 问题分析
当前搜索功能存在以下问题：
1. 搜索结果没有排序，仅按找到的顺序返回
2. 没有考虑搜索关键词与结果的相关性
3. 搜索逻辑简单，仅检查是否包含关键词，没有考虑匹配度

## 实现方案

### 1. 修改搜索逻辑
- 移除当前搜索函数中的 `return` 语句，允许找到所有匹配项
- 为每个匹配项计算相关性分数
- 考虑多种因素计算相关性：
  - 关键词在标题中出现的次数（权重更高）
  - 关键词在描述中出现的次数
  - 关键词的匹配位置
  - 完全匹配 vs 部分匹配

### 2. 实现相关性评分算法
- 为每个搜索结果项添加评分机制
- 标题匹配权重高于描述匹配
- 完全匹配权重高于部分匹配
- 匹配位置越靠前权重越高

### 3. 实现结果排序
- 在搜索完成后，根据相关性分数对结果进行排序
- 从高到低排序，最相关的结果排在前面

### 4. 优化数据结构
- 修改结果存储方式，保存每个匹配项的完整信息和评分
- 确保排序后结果格式一致，便于后续处理

## 代码修改点
1. **script/search.js**：
   - 修改 `search` 函数，实现相关性评分
   - 添加结果排序逻辑
   - 优化搜索结果的数据结构

## 预期效果
- 搜索结果按照与关键词的相关性自动排序
- 标题包含关键词的结果优先显示
- 完全匹配的结果优先显示
- 匹配位置靠前的结果优先显示

## 实现步骤
1. 修改 `search` 函数，移除提前返回，收集所有匹配项
2. 实现相关性评分函数
3. 为每个匹配项计算评分
4. 添加结果排序逻辑
5. 测试搜索功能，验证排序效果